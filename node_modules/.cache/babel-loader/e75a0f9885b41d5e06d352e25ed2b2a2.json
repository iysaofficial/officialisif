{"ast":null,"code":"/**\r\n * Copyright 2015, Yahoo! Inc.\r\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\r\n */\n/* global window, document */\n\n'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _get = function get(_x, _x2, _x3) {\n  var _again = true;\n  _function: while (_again) {\n    var object = _x,\n      property = _x2,\n      receiver = _x3;\n    _again = false;\n    if (object === null) object = Function.prototype;\n    var desc = Object.getOwnPropertyDescriptor(object, property);\n    if (desc === undefined) {\n      var parent = Object.getPrototypeOf(object);\n      if (parent === null) {\n        return undefined;\n      } else {\n        _x = parent;\n        _x2 = property;\n        _x3 = receiver;\n        _again = true;\n        desc = parent = undefined;\n        continue _function;\n      }\n    } else if ('value' in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n      if (getter === undefined) {\n        return undefined;\n      }\n      return getter.call(receiver);\n    }\n  }\n};\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError('Cannot call a class as a function');\n  }\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar _react = require('react');\nvar _react2 = _interopRequireDefault(_react);\nvar _propTypes = require('prop-types');\nvar _propTypes2 = _interopRequireDefault(_propTypes);\nvar _subscribeUiEvent = require('subscribe-ui-event');\nvar _classnames = require('classnames');\nvar _classnames2 = _interopRequireDefault(_classnames);\nvar _shallowequal = require('shallowequal');\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\n// constants\nvar STATUS_ORIGINAL = 0; // The default status, locating at the original position.\nvar STATUS_RELEASED = 1; // The released status, locating at somewhere on document but not default one.\nvar STATUS_FIXED = 2; // The sticky status, locating fixed to the top or the bottom of screen.\n\nvar TRANSFORM_PROP = 'transform';\n\n// global variable for all instances\nvar doc;\nvar docBody;\nvar docEl;\nvar canEnableTransforms = true; // Use transform by default, so no Sticky on lower-end browser when no Modernizr\nvar M;\nvar scrollDelta = 0;\nvar win;\nvar winHeight = -1;\nvar Sticky = function (_Component) {\n  _inherits(Sticky, _Component);\n  function Sticky(props, context) {\n    _classCallCheck(this, Sticky);\n    _get(Object.getPrototypeOf(Sticky.prototype), 'constructor', this).call(this, props, context);\n    this.handleResize = this.handleResize.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleScrollStart = this.handleScrollStart.bind(this);\n    this.delta = 0;\n    this.stickyTop = 0;\n    this.stickyBottom = 0;\n    this.frozen = false;\n    this.skipNextScrollEvent = false;\n    this.scrollTop = -1;\n    this.bottomBoundaryTarget;\n    this.topTarget;\n    this.subscribers;\n    this.state = {\n      top: 0,\n      // A top offset from viewport top where Sticky sticks to when scrolling up\n      bottom: 0,\n      // A bottom offset from viewport top where Sticky sticks to when scrolling down\n      width: 0,\n      // Sticky width\n      height: 0,\n      // Sticky height\n      x: 0,\n      // The original x of Sticky\n      y: 0,\n      // The original y of Sticky\n      topBoundary: 0,\n      // The top boundary on document\n      bottomBoundary: Infinity,\n      // The bottom boundary on document\n      status: STATUS_ORIGINAL,\n      // The Sticky status\n      pos: 0,\n      // Real y-axis offset for rendering position-fixed and position-relative\n      activated: false // once browser info is available after mounted, it becomes true to avoid checksum error\n    };\n  }\n  _createClass(Sticky, [{\n    key: 'getTargetHeight',\n    value: function getTargetHeight(target) {\n      return target && target.offsetHeight || 0;\n    }\n  }, {\n    key: 'getTopPosition',\n    value: function getTopPosition(top) {\n      // TODO, topTarget is for current layout, may remove\n      // a top argument can be provided to override reading from the props\n      top = top || this.props.top || this.props.topTarget || 0;\n      if (typeof top === 'string') {\n        if (!this.topTarget) {\n          this.topTarget = doc.querySelector(top);\n        }\n        top = this.getTargetHeight(this.topTarget);\n      }\n      return top;\n    }\n  }, {\n    key: 'getTargetBottom',\n    value: function getTargetBottom(target) {\n      if (!target) {\n        return -1;\n      }\n      var rect = target.getBoundingClientRect();\n      return this.scrollTop + rect.bottom;\n    }\n  }, {\n    key: 'getBottomBoundary',\n    value: function getBottomBoundary(bottomBoundary) {\n      // a bottomBoundary can be provided to avoid reading from the props\n      var boundary = bottomBoundary || this.props.bottomBoundary;\n\n      // TODO, bottomBoundary was an object, depricate it later.\n      if (typeof boundary === 'object') {\n        boundary = boundary.value || boundary.target || 0;\n      }\n      if (typeof boundary === 'string') {\n        if (!this.bottomBoundaryTarget) {\n          this.bottomBoundaryTarget = doc.querySelector(boundary);\n        }\n        boundary = this.getTargetBottom(this.bottomBoundaryTarget);\n      }\n      return boundary && boundary > 0 ? boundary : Infinity;\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.setState({\n        status: STATUS_ORIGINAL,\n        pos: 0\n      });\n    }\n  }, {\n    key: 'release',\n    value: function release(pos) {\n      this.setState({\n        status: STATUS_RELEASED,\n        pos: pos - this.state.y\n      });\n    }\n  }, {\n    key: 'fix',\n    value: function fix(pos) {\n      this.setState({\n        status: STATUS_FIXED,\n        pos: pos\n      });\n    }\n\n    /**\r\n     * Update the initial position, width, and height. It should update whenever children change.\r\n     * @param {Object} options optional top and bottomBoundary new values\r\n     */\n  }, {\n    key: 'updateInitialDimension',\n    value: function updateInitialDimension(options) {\n      options = options || {};\n      var outerRect = this.outerElement.getBoundingClientRect();\n      var innerRect = this.innerElement.getBoundingClientRect();\n      var width = outerRect.width || outerRect.right - outerRect.left;\n      var height = innerRect.height || innerRect.bottom - innerRect.top;\n      ;\n      var outerY = outerRect.top + this.scrollTop;\n      this.setState({\n        top: this.getTopPosition(options.top),\n        bottom: Math.min(this.state.top + height, winHeight),\n        width: width,\n        height: height,\n        x: outerRect.left,\n        y: outerY,\n        bottomBoundary: this.getBottomBoundary(options.bottomBoundary),\n        topBoundary: outerY\n      });\n    }\n  }, {\n    key: 'handleResize',\n    value: function handleResize(e, ae) {\n      if (this.props.shouldFreeze()) {\n        return;\n      }\n      winHeight = ae.resize.height;\n      this.updateInitialDimension();\n      this.update();\n    }\n  }, {\n    key: 'handleScrollStart',\n    value: function handleScrollStart(e, ae) {\n      this.frozen = this.props.shouldFreeze();\n      if (this.frozen) {\n        return;\n      }\n      if (this.scrollTop === ae.scroll.top) {\n        // Scroll position hasn't changed,\n        // do nothing\n        this.skipNextScrollEvent = true;\n      } else {\n        this.scrollTop = ae.scroll.top;\n        this.updateInitialDimension();\n      }\n    }\n  }, {\n    key: 'handleScroll',\n    value: function handleScroll(e, ae) {\n      // Scroll doesn't need to be handled\n      if (this.skipNextScrollEvent) {\n        this.skipNextScrollEvent = false;\n        return;\n      }\n      scrollDelta = ae.scroll.delta;\n      this.scrollTop = ae.scroll.top;\n      this.update();\n    }\n\n    /**\r\n     * Update Sticky position.\r\n     */\n  }, {\n    key: 'update',\n    value: function update() {\n      var disabled = !this.props.enabled || this.state.bottomBoundary - this.state.topBoundary <= this.state.height || this.state.width === 0 && this.state.height === 0;\n      if (disabled) {\n        if (this.state.status !== STATUS_ORIGINAL) {\n          this.reset();\n        }\n        return;\n      }\n      var delta = scrollDelta;\n      // \"top\" and \"bottom\" are the positions that this.state.top and this.state.bottom project\n      // on document from viewport.\n      var top = this.scrollTop + this.state.top;\n      var bottom = this.scrollTop + this.state.bottom;\n\n      // There are 2 principles to make sure Sticky won't get wrong so much:\n      // 1. Reset Sticky to the original postion when \"top\" <= topBoundary\n      // 2. Release Sticky to the bottom boundary when \"bottom\" >= bottomBoundary\n      if (top <= this.state.topBoundary) {\n        // #1\n        this.reset();\n      } else if (bottom >= this.state.bottomBoundary) {\n        // #2\n        this.stickyBottom = this.state.bottomBoundary;\n        this.stickyTop = this.stickyBottom - this.state.height;\n        this.release(this.stickyTop);\n      } else {\n        if (this.state.height > winHeight - this.state.top) {\n          // In this case, Sticky is higher then viewport minus top offset\n          switch (this.state.status) {\n            case STATUS_ORIGINAL:\n              this.release(this.state.y);\n              this.stickyTop = this.state.y;\n              this.stickyBottom = this.stickyTop + this.state.height;\n            // Commentting out \"break\" is on purpose, because there is a chance to transit to FIXED\n            // from ORIGINAL when calling window.scrollTo().\n            // break;\n            case STATUS_RELEASED:\n              // If \"top\" and \"bottom\" are inbetween stickyTop and stickyBottom, then Sticky is in\n              // RELEASE status. Otherwise, it changes to FIXED status, and its bottom sticks to\n              // viewport bottom when scrolling down, or its top sticks to viewport top when scrolling up.\n              this.stickyBottom = this.stickyTop + this.state.height;\n              if (delta > 0 && bottom > this.stickyBottom) {\n                this.fix(this.state.bottom - this.state.height);\n              } else if (delta < 0 && top < this.stickyTop) {\n                this.fix(this.state.top);\n              }\n              break;\n            case STATUS_FIXED:\n              var toRelease = true;\n              var pos = this.state.pos;\n              var height = this.state.height;\n              // In regular cases, when Sticky is in FIXED status,\n              // 1. it's top will stick to the screen top,\n              // 2. it's bottom will stick to the screen bottom,\n              // 3. if not the cases above, then it's height gets changed\n              if (delta > 0 && pos === this.state.top) {\n                // case 1, and scrolling down\n                this.stickyTop = top - delta;\n                this.stickyBottom = this.stickyTop + height;\n              } else if (delta < 0 && pos === this.state.bottom - height) {\n                // case 2, and scrolling up\n                this.stickyBottom = bottom - delta;\n                this.stickyTop = this.stickyBottom - height;\n              } else if (pos !== this.state.bottom - height && pos !== this.state.top) {\n                // case 3\n                // This case only happens when Sticky's bottom sticks to the screen bottom and\n                // its height gets changed. Sticky should be in RELEASE status and update its\n                // sticky bottom by calculating how much height it changed.\n                var deltaHeight = pos + height - this.state.bottom;\n                this.stickyBottom = bottom - delta + deltaHeight;\n                this.stickyTop = this.stickyBottom - height;\n              } else {\n                toRelease = false;\n              }\n              if (toRelease) {\n                this.release(this.stickyTop);\n              }\n              break;\n          }\n        } else {\n          // In this case, Sticky is shorter then viewport minus top offset\n          // and will always fix to the top offset of viewport\n          this.fix(this.state.top);\n        }\n      }\n      this.delta = delta;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.updateInitialDimension(nextProps);\n      this.update();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this = this;\n      if (prevState.status !== this.state.status && this.props.onStateChange) {\n        this.props.onStateChange({\n          status: this.state.status\n        });\n      }\n      // if the props for enabling are toggled, then trigger the update or reset depending on the current props\n      if (prevProps.enabled !== this.props.enabled) {\n        if (this.props.enabled) {\n          this.setState({\n            activated: true\n          }, function () {\n            _this.updateInitialDimension();\n            _this.update();\n          });\n        } else {\n          this.setState({\n            activated: false\n          }, function () {\n            _this.reset();\n          });\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var subscribers = this.subscribers || [];\n      for (var i = subscribers.length - 1; i >= 0; i--) {\n        this.subscribers[i].unsubscribe();\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // Only initialize the globals if this is the first\n      // time this component type has been mounted\n      if (!win) {\n        win = window;\n        doc = document;\n        docEl = doc.documentElement;\n        docBody = doc.body;\n        winHeight = win.innerHeight || docEl.clientHeight;\n        M = window.Modernizr;\n        // No Sticky on lower-end browser when no Modernizr\n        if (M && M.prefixed) {\n          canEnableTransforms = M.csstransforms3d;\n          TRANSFORM_PROP = M.prefixed('transform');\n        }\n      }\n\n      // when mount, the scrollTop is not necessary on the top\n      this.scrollTop = docBody.scrollTop + docEl.scrollTop;\n      if (this.props.enabled) {\n        this.setState({\n          activated: true\n        });\n        this.updateInitialDimension();\n        this.update();\n      }\n      // bind the listeners regardless if initially enabled - allows the component to toggle sticky functionality\n      this.subscribers = [(0, _subscribeUiEvent.subscribe)('scrollStart', this.handleScrollStart.bind(this), {\n        useRAF: true\n      }), (0, _subscribeUiEvent.subscribe)('scroll', this.handleScroll.bind(this), {\n        useRAF: true,\n        enableScrollInfo: true\n      }), (0, _subscribeUiEvent.subscribe)('resize', this.handleResize.bind(this), {\n        enableResizeInfo: true\n      })];\n    }\n  }, {\n    key: 'translate',\n    value: function translate(style, pos) {\n      var enableTransforms = canEnableTransforms && this.props.enableTransforms;\n      if (enableTransforms && this.state.activated) {\n        style[TRANSFORM_PROP] = 'translate3d(0,' + Math.round(pos) + 'px,0)';\n      } else {\n        style.top = pos + 'px';\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !this.props.shouldFreeze() && !((0, _shallowequal2['default'])(this.props, nextProps) && (0, _shallowequal2['default'])(this.state, nextState));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames,\n        _this2 = this;\n\n      // TODO, \"overflow: auto\" prevents collapse, need a good way to get children height\n      var innerStyle = {\n        position: this.state.status === STATUS_FIXED ? 'fixed' : 'relative',\n        top: this.state.status === STATUS_FIXED ? '0px' : '',\n        zIndex: this.props.innerZ\n      };\n      var outerStyle = {};\n\n      // always use translate3d to enhance the performance\n      this.translate(innerStyle, this.state.pos);\n      if (this.state.status !== STATUS_ORIGINAL) {\n        innerStyle.width = this.state.width + 'px';\n        outerStyle.height = this.state.height + 'px';\n      }\n      var outerClasses = (0, _classnames2['default'])('sticky-outer-wrapper', this.props.className, (_classNames = {}, _defineProperty(_classNames, this.props.activeClass, this.state.status === STATUS_FIXED), _defineProperty(_classNames, this.props.releasedClass, this.state.status === STATUS_RELEASED), _classNames));\n      var children = this.props.children;\n      return _react2['default'].createElement('div', {\n        ref: function (outer) {\n          _this2.outerElement = outer;\n        },\n        className: outerClasses,\n        style: outerStyle\n      }, _react2['default'].createElement('div', {\n        ref: function (inner) {\n          _this2.innerElement = inner;\n        },\n        className: 'sticky-inner-wrapper',\n        style: innerStyle\n      }, typeof children === 'function' ? children({\n        status: this.state.status\n      }) : children));\n    }\n  }]);\n  return Sticky;\n}(_react.Component);\nSticky.displayName = 'Sticky';\nSticky.defaultProps = {\n  shouldFreeze: function shouldFreeze() {\n    return false;\n  },\n  enabled: true,\n  top: 0,\n  bottomBoundary: 0,\n  enableTransforms: true,\n  activeClass: 'active',\n  releasedClass: 'released',\n  onStateChange: null\n};\n\n/**\r\n * @param {Bool} enabled A switch to enable or disable Sticky.\r\n * @param {String/Number} top A top offset px for Sticky. Could be a selector representing a node\r\n *        whose height should serve as the top offset.\r\n * @param {String/Number} bottomBoundary A bottom boundary px on document where Sticky will stop.\r\n *        Could be a selector representing a node whose bottom should serve as the bottom boudary.\r\n */\nSticky.propTypes = {\n  enabled: _propTypes2['default'].bool,\n  top: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].number]),\n  bottomBoundary: _propTypes2['default'].oneOfType([_propTypes2['default'].object,\n  // TODO, may remove\n  _propTypes2['default'].string, _propTypes2['default'].number]),\n  enableTransforms: _propTypes2['default'].bool,\n  activeClass: _propTypes2['default'].string,\n  releasedClass: _propTypes2['default'].string,\n  onStateChange: _propTypes2['default'].func,\n  shouldFreeze: _propTypes2['default'].func,\n  innerZ: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].number])\n};\nSticky.STATUS_ORIGINAL = STATUS_ORIGINAL;\nSticky.STATUS_RELEASED = STATUS_RELEASED;\nSticky.STATUS_FIXED = STATUS_FIXED;\nmodule.exports = Sticky;","map":{"version":3,"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_get","get","_x","_x2","_x3","_again","_function","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","value","getter","call","_interopRequireDefault","obj","__esModule","_defineProperty","_classCallCheck","instance","TypeError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_react","require","_react2","_propTypes","_propTypes2","_subscribeUiEvent","_classnames","_classnames2","_shallowequal","_shallowequal2","STATUS_ORIGINAL","STATUS_RELEASED","STATUS_FIXED","TRANSFORM_PROP","doc","docBody","docEl","canEnableTransforms","M","scrollDelta","win","winHeight","Sticky","_Component","context","handleResize","bind","handleScroll","handleScrollStart","delta","stickyTop","stickyBottom","frozen","skipNextScrollEvent","scrollTop","bottomBoundaryTarget","topTarget","subscribers","state","top","bottom","width","height","x","y","topBoundary","bottomBoundary","Infinity","status","pos","activated","getTargetHeight","offsetHeight","getTopPosition","querySelector","getTargetBottom","rect","getBoundingClientRect","getBottomBoundary","boundary","reset","setState","release","fix","updateInitialDimension","options","outerRect","outerElement","innerRect","innerElement","right","left","outerY","Math","min","e","ae","shouldFreeze","resize","update","scroll","disabled","enabled","toRelease","deltaHeight","componentWillReceiveProps","nextProps","componentDidUpdate","prevProps","prevState","_this","onStateChange","componentWillUnmount","unsubscribe","componentDidMount","window","document","documentElement","body","innerHeight","clientHeight","Modernizr","prefixed","csstransforms3d","subscribe","useRAF","enableScrollInfo","enableResizeInfo","translate","style","enableTransforms","round","shouldComponentUpdate","nextState","render","_classNames","_this2","innerStyle","position","zIndex","innerZ","outerStyle","outerClasses","className","activeClass","releasedClass","children","createElement","ref","outer","inner","Component","displayName","defaultProps","propTypes","bool","oneOfType","string","number","func","module","exports"],"sources":["C:/Users/HP/Documents/WEBSITE/officialisif/node_modules/react-stickynode/dist/Sticky.js"],"sourcesContent":["/**\r\n * Copyright 2015, Yahoo! Inc.\r\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\r\n */\r\n/* global window, document */\r\n\r\n'use strict';\r\n\r\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\r\n\r\nvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _propTypes = require('prop-types');\r\n\r\nvar _propTypes2 = _interopRequireDefault(_propTypes);\r\n\r\nvar _subscribeUiEvent = require('subscribe-ui-event');\r\n\r\nvar _classnames = require('classnames');\r\n\r\nvar _classnames2 = _interopRequireDefault(_classnames);\r\n\r\nvar _shallowequal = require('shallowequal');\r\n\r\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\r\n\r\n// constants\r\nvar STATUS_ORIGINAL = 0; // The default status, locating at the original position.\r\nvar STATUS_RELEASED = 1; // The released status, locating at somewhere on document but not default one.\r\nvar STATUS_FIXED = 2; // The sticky status, locating fixed to the top or the bottom of screen.\r\n\r\nvar TRANSFORM_PROP = 'transform';\r\n\r\n// global variable for all instances\r\nvar doc;\r\nvar docBody;\r\nvar docEl;\r\nvar canEnableTransforms = true; // Use transform by default, so no Sticky on lower-end browser when no Modernizr\r\nvar M;\r\nvar scrollDelta = 0;\r\nvar win;\r\nvar winHeight = -1;\r\n\r\nvar Sticky = (function (_Component) {\r\n    _inherits(Sticky, _Component);\r\n\r\n    function Sticky(props, context) {\r\n        _classCallCheck(this, Sticky);\r\n\r\n        _get(Object.getPrototypeOf(Sticky.prototype), 'constructor', this).call(this, props, context);\r\n        this.handleResize = this.handleResize.bind(this);\r\n        this.handleScroll = this.handleScroll.bind(this);\r\n        this.handleScrollStart = this.handleScrollStart.bind(this);\r\n        this.delta = 0;\r\n        this.stickyTop = 0;\r\n        this.stickyBottom = 0;\r\n        this.frozen = false;\r\n        this.skipNextScrollEvent = false;\r\n        this.scrollTop = -1;\r\n\r\n        this.bottomBoundaryTarget;\r\n        this.topTarget;\r\n        this.subscribers;\r\n\r\n        this.state = {\r\n            top: 0, // A top offset from viewport top where Sticky sticks to when scrolling up\r\n            bottom: 0, // A bottom offset from viewport top where Sticky sticks to when scrolling down\r\n            width: 0, // Sticky width\r\n            height: 0, // Sticky height\r\n            x: 0, // The original x of Sticky\r\n            y: 0, // The original y of Sticky\r\n            topBoundary: 0, // The top boundary on document\r\n            bottomBoundary: Infinity, // The bottom boundary on document\r\n            status: STATUS_ORIGINAL, // The Sticky status\r\n            pos: 0, // Real y-axis offset for rendering position-fixed and position-relative\r\n            activated: false // once browser info is available after mounted, it becomes true to avoid checksum error\r\n        };\r\n    }\r\n\r\n    _createClass(Sticky, [{\r\n        key: 'getTargetHeight',\r\n        value: function getTargetHeight(target) {\r\n            return target && target.offsetHeight || 0;\r\n        }\r\n    }, {\r\n        key: 'getTopPosition',\r\n        value: function getTopPosition(top) {\r\n            // TODO, topTarget is for current layout, may remove\r\n            // a top argument can be provided to override reading from the props\r\n            top = top || this.props.top || this.props.topTarget || 0;\r\n            if (typeof top === 'string') {\r\n                if (!this.topTarget) {\r\n                    this.topTarget = doc.querySelector(top);\r\n                }\r\n                top = this.getTargetHeight(this.topTarget);\r\n            }\r\n            return top;\r\n        }\r\n    }, {\r\n        key: 'getTargetBottom',\r\n        value: function getTargetBottom(target) {\r\n            if (!target) {\r\n                return -1;\r\n            }\r\n            var rect = target.getBoundingClientRect();\r\n            return this.scrollTop + rect.bottom;\r\n        }\r\n    }, {\r\n        key: 'getBottomBoundary',\r\n        value: function getBottomBoundary(bottomBoundary) {\r\n            // a bottomBoundary can be provided to avoid reading from the props\r\n            var boundary = bottomBoundary || this.props.bottomBoundary;\r\n\r\n            // TODO, bottomBoundary was an object, depricate it later.\r\n            if (typeof boundary === 'object') {\r\n                boundary = boundary.value || boundary.target || 0;\r\n            }\r\n\r\n            if (typeof boundary === 'string') {\r\n                if (!this.bottomBoundaryTarget) {\r\n                    this.bottomBoundaryTarget = doc.querySelector(boundary);\r\n                }\r\n                boundary = this.getTargetBottom(this.bottomBoundaryTarget);\r\n            }\r\n            return boundary && boundary > 0 ? boundary : Infinity;\r\n        }\r\n    }, {\r\n        key: 'reset',\r\n        value: function reset() {\r\n            this.setState({\r\n                status: STATUS_ORIGINAL,\r\n                pos: 0\r\n            });\r\n        }\r\n    }, {\r\n        key: 'release',\r\n        value: function release(pos) {\r\n            this.setState({\r\n                status: STATUS_RELEASED,\r\n                pos: pos - this.state.y\r\n            });\r\n        }\r\n    }, {\r\n        key: 'fix',\r\n        value: function fix(pos) {\r\n            this.setState({\r\n                status: STATUS_FIXED,\r\n                pos: pos\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Update the initial position, width, and height. It should update whenever children change.\r\n         * @param {Object} options optional top and bottomBoundary new values\r\n         */\r\n    }, {\r\n        key: 'updateInitialDimension',\r\n        value: function updateInitialDimension(options) {\r\n            options = options || {};\r\n\r\n            var outerRect = this.outerElement.getBoundingClientRect();\r\n            var innerRect = this.innerElement.getBoundingClientRect();\r\n\r\n            var width = outerRect.width || outerRect.right - outerRect.left;\r\n            var height = innerRect.height || innerRect.bottom - innerRect.top;;\r\n            var outerY = outerRect.top + this.scrollTop;\r\n\r\n            this.setState({\r\n                top: this.getTopPosition(options.top),\r\n                bottom: Math.min(this.state.top + height, winHeight),\r\n                width: width,\r\n                height: height,\r\n                x: outerRect.left,\r\n                y: outerY,\r\n                bottomBoundary: this.getBottomBoundary(options.bottomBoundary),\r\n                topBoundary: outerY\r\n            });\r\n        }\r\n    }, {\r\n        key: 'handleResize',\r\n        value: function handleResize(e, ae) {\r\n            if (this.props.shouldFreeze()) {\r\n                return;\r\n            }\r\n\r\n            winHeight = ae.resize.height;\r\n            this.updateInitialDimension();\r\n            this.update();\r\n        }\r\n    }, {\r\n        key: 'handleScrollStart',\r\n        value: function handleScrollStart(e, ae) {\r\n            this.frozen = this.props.shouldFreeze();\r\n\r\n            if (this.frozen) {\r\n                return;\r\n            }\r\n\r\n            if (this.scrollTop === ae.scroll.top) {\r\n                // Scroll position hasn't changed,\r\n                // do nothing\r\n                this.skipNextScrollEvent = true;\r\n            } else {\r\n                this.scrollTop = ae.scroll.top;\r\n                this.updateInitialDimension();\r\n            }\r\n        }\r\n    }, {\r\n        key: 'handleScroll',\r\n        value: function handleScroll(e, ae) {\r\n            // Scroll doesn't need to be handled\r\n            if (this.skipNextScrollEvent) {\r\n                this.skipNextScrollEvent = false;\r\n                return;\r\n            }\r\n\r\n            scrollDelta = ae.scroll.delta;\r\n            this.scrollTop = ae.scroll.top;\r\n            this.update();\r\n        }\r\n\r\n        /**\r\n         * Update Sticky position.\r\n         */\r\n    }, {\r\n        key: 'update',\r\n        value: function update() {\r\n            var disabled = !this.props.enabled || this.state.bottomBoundary - this.state.topBoundary <= this.state.height || this.state.width === 0 && this.state.height === 0;\r\n\r\n            if (disabled) {\r\n                if (this.state.status !== STATUS_ORIGINAL) {\r\n                    this.reset();\r\n                }\r\n                return;\r\n            }\r\n\r\n            var delta = scrollDelta;\r\n            // \"top\" and \"bottom\" are the positions that this.state.top and this.state.bottom project\r\n            // on document from viewport.\r\n            var top = this.scrollTop + this.state.top;\r\n            var bottom = this.scrollTop + this.state.bottom;\r\n\r\n            // There are 2 principles to make sure Sticky won't get wrong so much:\r\n            // 1. Reset Sticky to the original postion when \"top\" <= topBoundary\r\n            // 2. Release Sticky to the bottom boundary when \"bottom\" >= bottomBoundary\r\n            if (top <= this.state.topBoundary) {\r\n                // #1\r\n                this.reset();\r\n            } else if (bottom >= this.state.bottomBoundary) {\r\n                // #2\r\n                this.stickyBottom = this.state.bottomBoundary;\r\n                this.stickyTop = this.stickyBottom - this.state.height;\r\n                this.release(this.stickyTop);\r\n            } else {\r\n                if (this.state.height > winHeight - this.state.top) {\r\n                    // In this case, Sticky is higher then viewport minus top offset\r\n                    switch (this.state.status) {\r\n                        case STATUS_ORIGINAL:\r\n                            this.release(this.state.y);\r\n                            this.stickyTop = this.state.y;\r\n                            this.stickyBottom = this.stickyTop + this.state.height;\r\n                        // Commentting out \"break\" is on purpose, because there is a chance to transit to FIXED\r\n                        // from ORIGINAL when calling window.scrollTo().\r\n                        // break;\r\n                        case STATUS_RELEASED:\r\n                            // If \"top\" and \"bottom\" are inbetween stickyTop and stickyBottom, then Sticky is in\r\n                            // RELEASE status. Otherwise, it changes to FIXED status, and its bottom sticks to\r\n                            // viewport bottom when scrolling down, or its top sticks to viewport top when scrolling up.\r\n                            this.stickyBottom = this.stickyTop + this.state.height;\r\n                            if (delta > 0 && bottom > this.stickyBottom) {\r\n                                this.fix(this.state.bottom - this.state.height);\r\n                            } else if (delta < 0 && top < this.stickyTop) {\r\n                                this.fix(this.state.top);\r\n                            }\r\n                            break;\r\n                        case STATUS_FIXED:\r\n                            var toRelease = true;\r\n                            var pos = this.state.pos;\r\n                            var height = this.state.height;\r\n                            // In regular cases, when Sticky is in FIXED status,\r\n                            // 1. it's top will stick to the screen top,\r\n                            // 2. it's bottom will stick to the screen bottom,\r\n                            // 3. if not the cases above, then it's height gets changed\r\n                            if (delta > 0 && pos === this.state.top) {\r\n                                // case 1, and scrolling down\r\n                                this.stickyTop = top - delta;\r\n                                this.stickyBottom = this.stickyTop + height;\r\n                            } else if (delta < 0 && pos === this.state.bottom - height) {\r\n                                // case 2, and scrolling up\r\n                                this.stickyBottom = bottom - delta;\r\n                                this.stickyTop = this.stickyBottom - height;\r\n                            } else if (pos !== this.state.bottom - height && pos !== this.state.top) {\r\n                                // case 3\r\n                                // This case only happens when Sticky's bottom sticks to the screen bottom and\r\n                                // its height gets changed. Sticky should be in RELEASE status and update its\r\n                                // sticky bottom by calculating how much height it changed.\r\n                                var deltaHeight = pos + height - this.state.bottom;\r\n                                this.stickyBottom = bottom - delta + deltaHeight;\r\n                                this.stickyTop = this.stickyBottom - height;\r\n                            } else {\r\n                                toRelease = false;\r\n                            }\r\n\r\n                            if (toRelease) {\r\n                                this.release(this.stickyTop);\r\n                            }\r\n                            break;\r\n                    }\r\n                } else {\r\n                    // In this case, Sticky is shorter then viewport minus top offset\r\n                    // and will always fix to the top offset of viewport\r\n                    this.fix(this.state.top);\r\n                }\r\n            }\r\n            this.delta = delta;\r\n        }\r\n    }, {\r\n        key: 'componentWillReceiveProps',\r\n        value: function componentWillReceiveProps(nextProps) {\r\n            this.updateInitialDimension(nextProps);\r\n            this.update();\r\n        }\r\n    }, {\r\n        key: 'componentDidUpdate',\r\n        value: function componentDidUpdate(prevProps, prevState) {\r\n            var _this = this;\r\n\r\n            if (prevState.status !== this.state.status && this.props.onStateChange) {\r\n                this.props.onStateChange({ status: this.state.status });\r\n            }\r\n            // if the props for enabling are toggled, then trigger the update or reset depending on the current props\r\n            if (prevProps.enabled !== this.props.enabled) {\r\n                if (this.props.enabled) {\r\n                    this.setState({ activated: true }, function () {\r\n                        _this.updateInitialDimension();\r\n                        _this.update();\r\n                    });\r\n                } else {\r\n                    this.setState({ activated: false }, function () {\r\n                        _this.reset();\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }, {\r\n        key: 'componentWillUnmount',\r\n        value: function componentWillUnmount() {\r\n            var subscribers = this.subscribers || [];\r\n            for (var i = subscribers.length - 1; i >= 0; i--) {\r\n                this.subscribers[i].unsubscribe();\r\n            }\r\n        }\r\n    }, {\r\n        key: 'componentDidMount',\r\n        value: function componentDidMount() {\r\n            // Only initialize the globals if this is the first\r\n            // time this component type has been mounted\r\n            if (!win) {\r\n                win = window;\r\n                doc = document;\r\n                docEl = doc.documentElement;\r\n                docBody = doc.body;\r\n                winHeight = win.innerHeight || docEl.clientHeight;\r\n                M = window.Modernizr;\r\n                // No Sticky on lower-end browser when no Modernizr\r\n                if (M && M.prefixed) {\r\n                    canEnableTransforms = M.csstransforms3d;\r\n                    TRANSFORM_PROP = M.prefixed('transform');\r\n                }\r\n            }\r\n\r\n            // when mount, the scrollTop is not necessary on the top\r\n            this.scrollTop = docBody.scrollTop + docEl.scrollTop;\r\n\r\n            if (this.props.enabled) {\r\n                this.setState({ activated: true });\r\n                this.updateInitialDimension();\r\n                this.update();\r\n            }\r\n            // bind the listeners regardless if initially enabled - allows the component to toggle sticky functionality\r\n            this.subscribers = [(0, _subscribeUiEvent.subscribe)('scrollStart', this.handleScrollStart.bind(this), { useRAF: true }), (0, _subscribeUiEvent.subscribe)('scroll', this.handleScroll.bind(this), { useRAF: true, enableScrollInfo: true }), (0, _subscribeUiEvent.subscribe)('resize', this.handleResize.bind(this), { enableResizeInfo: true })];\r\n        }\r\n    }, {\r\n        key: 'translate',\r\n        value: function translate(style, pos) {\r\n            var enableTransforms = canEnableTransforms && this.props.enableTransforms;\r\n            if (enableTransforms && this.state.activated) {\r\n                style[TRANSFORM_PROP] = 'translate3d(0,' + Math.round(pos) + 'px,0)';\r\n            } else {\r\n                style.top = pos + 'px';\r\n            }\r\n        }\r\n    }, {\r\n        key: 'shouldComponentUpdate',\r\n        value: function shouldComponentUpdate(nextProps, nextState) {\r\n            return !this.props.shouldFreeze() && !((0, _shallowequal2['default'])(this.props, nextProps) && (0, _shallowequal2['default'])(this.state, nextState));\r\n        }\r\n    }, {\r\n        key: 'render',\r\n        value: function render() {\r\n            var _classNames,\r\n                _this2 = this;\r\n\r\n            // TODO, \"overflow: auto\" prevents collapse, need a good way to get children height\r\n            var innerStyle = {\r\n                position: this.state.status === STATUS_FIXED ? 'fixed' : 'relative',\r\n                top: this.state.status === STATUS_FIXED ? '0px' : '',\r\n                zIndex: this.props.innerZ\r\n            };\r\n            var outerStyle = {};\r\n\r\n            // always use translate3d to enhance the performance\r\n            this.translate(innerStyle, this.state.pos);\r\n            if (this.state.status !== STATUS_ORIGINAL) {\r\n                innerStyle.width = this.state.width + 'px';\r\n                outerStyle.height = this.state.height + 'px';\r\n            }\r\n\r\n            var outerClasses = (0, _classnames2['default'])('sticky-outer-wrapper', this.props.className, (_classNames = {}, _defineProperty(_classNames, this.props.activeClass, this.state.status === STATUS_FIXED), _defineProperty(_classNames, this.props.releasedClass, this.state.status === STATUS_RELEASED), _classNames));\r\n\r\n            var children = this.props.children;\r\n\r\n            return _react2['default'].createElement(\r\n                'div',\r\n                { ref: function (outer) {\r\n                        _this2.outerElement = outer;\r\n                    }, className: outerClasses, style: outerStyle },\r\n                _react2['default'].createElement(\r\n                    'div',\r\n                    { ref: function (inner) {\r\n                            _this2.innerElement = inner;\r\n                        }, className: 'sticky-inner-wrapper', style: innerStyle },\r\n                    typeof children === 'function' ? children({ status: this.state.status }) : children\r\n                )\r\n            );\r\n        }\r\n    }]);\r\n\r\n    return Sticky;\r\n})(_react.Component);\r\n\r\nSticky.displayName = 'Sticky';\r\n\r\nSticky.defaultProps = {\r\n    shouldFreeze: function shouldFreeze() {\r\n        return false;\r\n    },\r\n    enabled: true,\r\n    top: 0,\r\n    bottomBoundary: 0,\r\n    enableTransforms: true,\r\n    activeClass: 'active',\r\n    releasedClass: 'released',\r\n    onStateChange: null\r\n};\r\n\r\n/**\r\n * @param {Bool} enabled A switch to enable or disable Sticky.\r\n * @param {String/Number} top A top offset px for Sticky. Could be a selector representing a node\r\n *        whose height should serve as the top offset.\r\n * @param {String/Number} bottomBoundary A bottom boundary px on document where Sticky will stop.\r\n *        Could be a selector representing a node whose bottom should serve as the bottom boudary.\r\n */\r\nSticky.propTypes = {\r\n    enabled: _propTypes2['default'].bool,\r\n    top: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].number]),\r\n    bottomBoundary: _propTypes2['default'].oneOfType([_propTypes2['default'].object, // TODO, may remove\r\n    _propTypes2['default'].string, _propTypes2['default'].number]),\r\n    enableTransforms: _propTypes2['default'].bool,\r\n    activeClass: _propTypes2['default'].string,\r\n    releasedClass: _propTypes2['default'].string,\r\n    onStateChange: _propTypes2['default'].func,\r\n    shouldFreeze: _propTypes2['default'].func,\r\n    innerZ: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].number])\r\n};\r\n\r\nSticky.STATUS_ORIGINAL = STATUS_ORIGINAL;\r\nSticky.STATUS_RELEASED = STATUS_RELEASED;\r\nSticky.STATUS_FIXED = STATUS_FIXED;\r\n\r\nmodule.exports = Sticky;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}